# Demo 功能说明

## 简短回答

**Demo 同时做两件事**：
1. ✅ **超分辨率**：将低分辨率图片转换为高分辨率图片
2. ✅ **文本识别**：识别图片中的文字

## 详细说明

### Demo 的完整流程

Demo 函数执行以下步骤：

#### 1. 输入处理
- 读取低分辨率图片（64×16 像素）
- 转换为模型输入格式

#### 2. 超分辨率处理 ⬆️
```python
images_sr = model(images_lr)  # 第 389 行
```
- 使用超分辨率模型（TBSRN/TSRN 等）
- 将低分辨率图片（64×16）转换为高分辨率图片（128×32）
- **保存超分辨率图片**：`sr_原文件名.jpg`

#### 3. 文本识别 📝
对**两张图片**都进行文本识别：
- **低分辨率图片识别**：
  ```python
  crnn_output_lr = crnn(crnn_input_lr)  # 第 429 行
  pred_str_lr = self.converter_crnn.decode(...)  # 第 433 行
  ```
- **超分辨率图片识别**：
  ```python
  crnn_output = crnn(crnn_input)  # 第 422 行
  pred_str_sr = self.converter_crnn.decode(...)  # 第 426 行
  ```

#### 4. 结果输出
- 保存超分辨率图片
- 保存低分辨率图片（用于对比）
- 输出识别结果对比：
  ```
  低分辨率识别: "hello"
  超分辨率识别: "hello"
  ```

## 核心功能

### 主要目的

**展示超分辨率对文本识别准确率的提升效果**

通过对比：
- **低分辨率图片的识别结果** vs **超分辨率后图片的识别结果**
- 验证超分辨率是否提高了文本识别的准确性

### 输出内容

1. **超分辨率图片** (`sr_*.jpg`)
   - 高分辨率版本的图片
   - 用于查看超分辨率效果

2. **低分辨率图片** (`lr_*.jpg`)
   - 处理后的低分辨率图片
   - 用于对比

3. **识别结果对比**
   - 低分辨率识别结果
   - 超分辨率识别结果
   - 展示识别准确率的提升

## 工作流程示意图

```
输入图片 (低分辨率)
    ↓
[超分辨率模型] → 高分辨率图片
    ↓                    ↓
[CRNN识别器]      [CRNN识别器]
    ↓                    ↓
低分辨率识别结果   超分辨率识别结果
    ↓                    ↓
        对比输出
```

## 使用场景

### 适用场景

1. **测试超分辨率效果**
   - 查看图片质量提升
   - 对比超分辨率前后的视觉效果

2. **测试识别准确率提升**
   - 对比低分辨率和超分辨率后的识别结果
   - 验证超分辨率是否提高了 OCR 准确率

3. **实际应用**
   - 处理模糊的文本图片
   - 提升低质量图片的识别准确率

## 输出示例

### 控制台输出
```
test.jpg:
  低分辨率识别: h3llo    ← 识别错误（因为图片模糊）
  超分辨率识别: hello    ← 识别正确（超分辨率后更清晰）
```

### 保存的文件
```
checkpoint/demo/demo_results/
├── sr_test.jpg          # 超分辨率后的图片
├── lr_test.jpg          # 低分辨率图片（对比用）
└── summary.txt          # 识别结果摘要
```

## 总结

| 功能 | 是否包含 | 说明 |
|------|---------|------|
| **超分辨率** | ✅ 是 | 将低分辨率图片转换为高分辨率 |
| **文本识别** | ✅ 是 | 识别图片中的文字 |
| **对比分析** | ✅ 是 | 对比超分辨率前后的识别效果 |

**Demo 是一个完整的流程**：先做超分辨率，再做文本识别，最后对比效果。

## 项目定位

根据 README，这个项目是：
> "Scene Text Telescope: Text-Focused Scene Image Super-Resolution"
> 
> **文本聚焦的场景图像超分辨率**

核心思想：
- **不是普通的超分辨率**，而是**专门针对文本的超分辨率**
- 通过提升文本图片的质量，**提高 OCR 识别准确率**
- Demo 展示了这个完整流程的效果

